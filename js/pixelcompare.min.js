"use strict"; var _extend = function (a, b) { var c = {}, d; for (d in a) Object.prototype.hasOwnProperty.call(a, d) && (c[d] = a[d]); for (d in b) Object.prototype.hasOwnProperty.call(b, d) && (c[d] = b[d]); return c }, _addClass = function (a, b) { var c; c = a.className.split(" "), -1 == c.indexOf(b) && (a.className += " " + b) }, _hasClass = function (a, b) { return new RegExp("(\\s|^)" + b + "(\\s|$)").test(a.className) }, _removeClass = function (a, b) { a.classList.remove(b) }, _wrap = function (a, b, c) { var d = document.createElement(b); return _addClass(d, "pixelcompare-wrapper pixelcompare-" + c), a.parentElement.insertBefore(d, a), d.appendChild(a), d }, pixelcompare = function (a) { var a = _extend({ default_offset_pct: 0.5, orientation: "horizontal", overlay: !1, hover: !1, move_with_handle_only: !0, click_to_move: !1 }, a), b = document.querySelectorAll(a.container); return b.forEach(function (c) { var d = a.default_offset_pct, g = a.orientation, i = "vertical" === g ? "down" : "left", j = "vertical" === g ? "up" : "right", k = _wrap(c, "div", g), l = k.querySelectorAll("img")[0], m = k.querySelectorAll("img")[1], n = document.createElement("div"); _addClass(n, "pixelcompare-handle"), k.appendChild(n); var o = k.querySelector(".pixelcompare-handle"), p = document.createElement("span"); _addClass(p, "pixelcompare-" + i + "-arrow"), o.appendChild(p); var q = document.createElement("span"); if (_addClass(q, "pixelcompare-" + j + "-arrow"), o.appendChild(q), _addClass(k, "pixelcompare-container"), _addClass(l, "pixelcompare-before"), _addClass(m, "pixelcompare-after"), a.overlay) { var F = document.createElement("div"); _addClass(F, "pixelcompare-overlay"), k.appendChild(F) } var r = function (G) { var H = l.getBoundingClientRect().width, I = l.getBoundingClientRect().height; return { w: H + "px", h: I + "px", cw: G * H + "px", ch: G * I + "px" } }, s = function (G) { "vertical" === g ? (l.style.clip = "rect(0, " + G.w + ", " + G.ch + ", 0)", m.style.clip = "rect(" + G.ch + ", " + G.w + ", " + G.h + ", 0)") : (l.style.clip = "rect(0, " + G.cw + ", " + G.h + ", 0)", m.style.clip = "rect(0, " + G.w + "," + G.h + "," + G.cw + ")"), k.style.height = G.h }, t = function (G) { var H = r(G); "vertical" === g ? o.style.top = H.ch : o.style.left = H.cw, s(H) }, u = function (G, H, I) { return Math.max(H, Math.min(I, G)) }, v = function (G, H) { var I = "vertical" === g ? (H - y) / A : (G - x) / z; return u(I, 0, 1) }; window.addEventListener("resize.pixelcompare", function () { t(d) }); var x = 0, y = 0, z = 0, A = 0, B = function (G) { (G.distX > G.distY && G.distX < -G.distY || G.distX < G.distY && G.distX > -G.distY) && "vertical" !== g ? G.preventDefault() : (G.distX < G.distY && G.distX < -G.distY || G.distX > G.distY && G.distX > -G.distY) && "vertical" === g && G.preventDefault(), _addClass(k, "active"), x = k.offsetLeft, y = k.offsetTop, z = l.getBoundingClientRect().width, A = l.getBoundingClientRect().height }, C = function (G) { _hasClass(k, "active") && (d = v(G.pageX || G.changedTouches[0].pageX, G.pageY || G.changedTouches[0].pageY), t(d)) }, D = function () { _removeClass(k, "active") }, E = a.move_with_handle_only ? o : k; E.addEventListener("mousedown", B), k.addEventListener("mousemove", C), window.addEventListener("mouseup", D), E.addEventListener("touchstart", B), k.addEventListener("touchmove", C), window.addEventListener("touchend", D), a.hover && (k.addEventListener("mouseenter", B), k.addEventListener("mousemove\t", C), k.addEventListener("mouseleave", D)), o.addEventListener("touchmove", function (G) { G.preventDefault() }), k.querySelector("img").addEventListener("mousedown", function (G) { G.preventDefault() }), a.click_to_move && k.on("click", function (G) { x = k.offset().left, y = k.offset().top, z = l.width(), A = l.height(), d = v(G.pageX, G.pageY), t(d) }), window.dispatchEvent(new Event("resize.pixelcompare")) }) };